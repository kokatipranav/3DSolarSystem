<h1>Solar System Orrery</h1>

  <head>
    <!-- See http://docs.mathjax.org/en/latest/web/start.html#using-mathjax-from-a-content-delivery-network-cdn -->
    <script type="text/javascript" id="MathJax-script" async
        src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script>
  </head>
  
This is a solar system orrery based on mathematical formulas and the NASA Near Earth Comets API. The planets are displayed by using their heliocentric coordinates (x, y, z). The animation is created by moving frames of plotted planets. 
To calculate the planet positions, the formulas from the excellent Astronomy Answers website was used: https://aa.quae.nl/en/reken/hemelpositie.html. <br>

In astronomy, Julian Dates are frequently used. To calculate the Julian date, we borrowed code from this tutorial: https://jasonsturges.medium.com/moons-lunar-phase-in-javascript-a5219acbfe6e. Here is the code in JavaScript to calculate the Julian Date:
<code>const getJulianDate = (date = new Date()) => {
  const time = date.getTime();
  const tzoffset = date.getTimezoneOffset()
  
  return (time / 86400000) - (tzoffset / 1440) + 2440587.5;
}</code>
Each planet has a mean anomaly, which indicates its position in its orbit. The mean anomaly can be calculated as:
<math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
  <mtable displaystyle="true">
    <mlabeledtr>
      <mtd id="mjx-eqn-5">
        <mtext>(5)</mtext>
      </mtd>
      <mtd>
        <mi>M</mi>
        <mo>=</mo>
        <msub>
          <mi>M</mi>
          <mn>0</mn>
        </msub>
        <mo>+</mo>
        <mi>n</mi>
        <mo stretchy="false">(</mo>
        <mi>d</mi>
        <mo>&#x2212;</mo>
        <msub>
          <mi>d</mi>
          <mn>0</mn>
        </msub>
        <mo stretchy="false">)</mo>
      </mtd>
    </mlabeledtr>
  </mtable>
</math>

  More information about the calculation of the mean anomaly can be gotten on step 2 of https://www.aa.quae.nl/en/reken/zonpositie.html

</html>
